import java.util.ArrayList;

import processing.core.PApplet;

public class PlatformManager {

	private ArrayList<BoxPlatform> platforms;
	private Manager manager;
	
	public PlatformManager(Manager m)
	{
		platforms = new ArrayList<BoxPlatform>();
		manager = m;
		platforms.add(new BoxPlatform(-200, 450, 1000, 50));
		platforms.add(new BoxPlatform(250, 350, 100, 100));
		platforms.add(new BoxPlatform(350, 300, 100, 150));
		//platforms.add(new RoundedPlatform(450, 150, 100, 150));

		platforms.add(new BoxPlatform(-20, 0, 40, 600));
		
		int tempY = 300;
		int x = 450;
		int tempX = 450;
		int width = 400;
		int heigth = 200;
		for(int i=0;i<20;i++)
		{
			double angle = Math.acos((x+width/2-tempX)/width);
			tempX+=20;
		}


	}
	
	public int checkCollision(int x, int y, int side)
	{
		boolean collides = false;
		int min = 20000;
		for(BoxPlatform obj: platforms)
		{
			int current = obj.collideTest(x, y, side);
			if(current<min)
			{
				min=current;
			}
			if(current<0)                                                                                                                                                                                       
			{
				return -1;
			}
		}
		return min;
		
	}
	
	public void draw(PApplet g)
	{
		for(BoxPlatform obj: platforms)
		{
			obj.draw(g);
		}
	}
	
	public void destroy(Object a) {
		for (int i = platforms.size(); i >= 0; i--) {
			if (a == platforms.get(i))
				platforms.remove(i);
		}
	}
	
	
	
}
