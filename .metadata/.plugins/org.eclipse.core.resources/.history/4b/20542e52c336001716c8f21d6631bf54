import java.util.ArrayList;

import processing.core.PApplet;

public class GObjectManager implements DestroyListener{

	private ArrayList<GravitisedObj> objects;

	private Manager manager;
	
	
	

	
	public GObjectManager(Manager m)
	{
		objects = new ArrayList<GravitisedObj>();
		manager = m;
		objects.add(new Charger(2800,100,10,100,100, this));

	}
	
	public void actObjects(double ratio)
	{
		for(GravitisedObj obj: objects)
		{
			obj.act(ratio);
		}
	}
	
	public void drawObjects(PApplet g)
	{
		for(GravitisedObj obj: objects)
		{
			obj.draw(g);
		}
	}
	
	public void destroy(Object a) {
		for (int i = objects.size()-1; i >= 0; i--) {
			if (a == objects.get(i))
				objects.remove(i);
		}
	}
	
	public ArrayList<Damagable> getDmg() {
		ArrayList<Damagable> d = new ArrayList<Damagable>();
		
		for(GravitisedObj obj: objects)
		{
			if (obj instanceof Damagable)
				d.add((Damagable)obj);
		}
		
		//do it for every array it contains
		
		
		
		return d;
	}
	
	
}
